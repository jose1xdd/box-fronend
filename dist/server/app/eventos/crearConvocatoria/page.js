(()=>{var e={};e.id=2422,e.ids=[2422],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1198:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(7096),s=r(6132),n=r(7284),l=r.n(n),i=r(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["eventos",{children:["crearConvocatoria",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,454)),"/home/josej/box-fronend/app/eventos/crearConvocatoria/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4978)),"/home/josej/box-fronend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/josej/box-fronend/app/eventos/crearConvocatoria/page.tsx"],u="/eventos/crearConvocatoria/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/eventos/crearConvocatoria/page",pathname:"/eventos/crearConvocatoria",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},545:(e,t,r)=>{Promise.resolve().then(r.bind(r,8259))},8259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>CrearConvocatoria});var a=r(784),s=r(4997),n=r(7114),l=r(9885);function CrearConvocatoria(){let[e,t]=(0,l.useState)([]),[r,i]=(0,l.useState)([]),[o,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[x,p]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[g,f]=(0,l.useState)(""),[v,j]=(0,l.useState)(""),[y,b]=(0,l.useState)(""),[N,w]=(0,l.useState)(!1),[_,q]=(0,l.useState)(!1),[S,C]=(0,l.useState)(""),[E,P]=(0,l.useState)([]),[k,A]=(0,l.useState)(!1),D="https://deportnortbox-api.ddns.net",I=(0,n.useRouter)(),getEntrenadores=async e=>{try{let t=await s.Z.get(`${D}/users/List`,{headers:{sessiontoken:e},params:{role:"Entrenador"}});return t.data.users}catch(e){console.log(e)}},getUsuarios=async e=>{try{let t=await s.Z.get(`${D}/users/List`,{headers:{sessiontoken:e}});return t.data.users}catch(e){console.log(e)}},cargaEntrenadores=async()=>{let e;let r=localStorage.getItem("userData");null!=r&&(e=JSON.parse(r).token);let a=await getEntrenadores(e);t(a)},cargarUsuarios=async()=>{let e;let t=localStorage.getItem("userData");null!=t&&(e=JSON.parse(t).token);let r=await getUsuarios(e);i(r)};function handlerCancelar(){let e,t;let r=localStorage.getItem("userData");null!=r&&(e=JSON.parse(r).role),t="Entrenador"==e?"entrenador":"administrador",I.push("/"+t+"/calendario")}function handlerSetParticipantes(e){let t=[...E],r=t.indexOf(S);e?-1!=r&&t.splice(r,1):-1==r&&t.push(S),P(t)}async function handlerSubmit(){let e,t,r;let a=localStorage.getItem("userData");null!=a&&(e=JSON.parse(a).token);let n={sessiontoken:e};null!=a&&(t=JSON.parse(a).role),r="Entrenador"==t?"entrenador":"administrador";try{await s.Z.post(`${D}/event/meet`,{trainer:d,date:x,startsAt:m,endsAt:g,name:v,description:y,participants:E},{headers:n}),I.push("/"+r+"/calendario")}catch(e){console.log(e)}}return(0,l.useEffect)(()=>{cargaEntrenadores(),cargarUsuarios()},[]),(0,l.useEffect)(()=>{if(typeof m==typeof g){if(m.length>1){let e=m.split(":"),t=g.split(":");parseInt(e[0])>parseInt(t[0])?q(!0):parseInt(e[0])==parseInt(t[0])?parseInt(e[1])<parseInt(t[1])?q(!1):q(!0):q(!1)}}else q(!0)},[g,m]),(0,l.useEffect)(()=>{let e="";for(let t of E)e+=t+"\n";c(e)},[E]),a.jsx("div",{className:"container mx-auto mt-8",children:a.jsx("div",{className:"p-4 ",children:(0,a.jsxs)("form",{onSubmit:handlerSubmit,children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"w-2/3 pr-4",children:[a.jsx("h1",{className:"text-center text-[400%]",id:"titulos-grandes",children:"Nueva Convocatoria"}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"w-1/3 mx-2",children:a.jsx("div",{className:"  w-full h-10 mx-5 my-2 flex items-center justify-center text-white ",id:"texto-general",children:"Entrenador encargado:"})}),a.jsx("select",{onChange:e=>{u(e.target.value)},required:!0,className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Entrenador encargado",children:e.map(e=>a.jsx("option",{value:e._id,placeholder:"Entrenador encargado",children:e.name+e.lastName+" - "+e.cedula},e._id))})]}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"w-1/3 mx-2",children:a.jsx("div",{className:"  w-full h-10 mx-5 my-2 flex items-center justify-center text-white ",id:"texto-general",children:"Fecha del evento"})}),a.jsx("input",{required:!0,type:"date",onChange:e=>{p(e.target.value),new Date(e.target.value)<new Date?w(!0):w(!1)},className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general"})]}),N&&a.jsx("div",{className:"flex justify-center",children:a.jsx("p",{className:"text-red-500 mb-2",children:"La fecha no puede ser en un dia pasado"})}),(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"w-1/3 mx-2",children:a.jsx("div",{className:"  w-full h-10 mx-5 my-2 flex items-center justify-center text-white ",id:"texto-general",children:"Hora inicio"})}),a.jsx("input",{required:!0,type:"time",onChange:e=>{h(e.target.value)},className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Descripcion general del evento"})]}),(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"w-1/3 mx-2",children:a.jsx("div",{className:"  w-full h-10 mx-5 my-2 flex items-center justify-center text-white ",id:"texto-general",children:"Hora fin"})}),a.jsx("input",{required:!0,type:"time",onChange:e=>{f(e.target.value)},className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Descripcion general del evento"})]})]}),_&&a.jsx("div",{className:"flex justify-center",children:a.jsx("p",{className:"text-red-500 mb-2",children:"La hora de inicio no puede ser antes que la de fin"})}),a.jsx("div",{className:"flex",children:a.jsx("input",{required:!0,placeholder:"Nombre del evento",onChange:e=>{j(e.target.value)},type:"text",className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general"})}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("input",{required:!0,type:"text",onChange:e=>{b(e.target.value)},className:"bg-neutral-200 rounded-full w-full h-20 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Descripcion general del evento"})})]}),(0,a.jsxs)("div",{className:"w-1/2 pr-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("h1",{className:"text-center text-[400%]",id:"titulos-grandes",children:"Participantes"})}),a.jsx("div",{className:"flex",children:a.jsx("select",{onChange:e=>{C(e.target.value)},required:!0,className:"bg-neutral-200 rounded-full w-full h-10 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Entrenador encargado",children:r.map(e=>a.jsx("option",{value:e.email,placeholder:"Entrenador encargado",children:e.email},e.email))})}),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("textarea",{required:!0,value:o,readOnly:!0,className:"bg-neutral-200 h-full w-full h-20 mx-5 my-2 pl-4 text-black",id:"texto-general",placeholder:"Participantes del evento"})}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-4 ",children:[a.jsx("button",{type:"button",onClick:()=>handlerSetParticipantes(!0),className:"bg-[#cd1919] text-white rounded p-2 mx-5",children:"Eliminar usuario"}),a.jsx("button",{type:"button",onClick:()=>handlerSetParticipantes(!1),className:"bg-[#cd1919] text-white rounded p-2",children:"Agregar Usuarios"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-4 ",children:[a.jsx("button",{type:"button",onClick:()=>handlerSubmit(),className:"bg-[#cd1919] text-white rounded p-2 mx-5",children:"Agregar convocatoria"}),a.jsx("button",{onClick:()=>handlerCancelar(),className:"bg-[#cd1919] text-white rounded p-2",children:"Cancelar"})]})]})})})}},454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=r(5153);let s=(0,a.createProxy)(String.raw`/home/josej/box-fronend/app/eventos/crearConvocatoria/page.tsx`),{__esModule:n,$$typeof:l}=s,i=s.default,o=i},7481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=r(8531);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}},784:(e,t,r)=>{"use strict";e.exports=r(316).vendored["react-ssr"].ReactJsxRuntime},7114:(e,t,r)=>{e.exports=r(4979)}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[260,1323,4997,4634],()=>__webpack_exec__(1198));module.exports=r})();