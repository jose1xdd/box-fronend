"use strict";exports.id=8047,exports.ids=[8047],exports.modules={8047:(e,t,n)=>{n.d(t,{Z:()=>Calendario});var r=n(784),a=n(9885),s=n(4997),o=n(5724),d=n(4238),i=n(1966),l=n(5376);function CalendarioEventos(){let[e,t]=(0,a.useState)([]),cargaEventos=async()=>{let e;let n=localStorage.getItem("userData");null!=n&&(e=JSON.parse(n).token);let r=await getEvents(e);t(getFormatedEvents(r))},getEvents=async e=>{try{let t=await s.Z.get("https://deportnortbox-api.ddns.net/event",{headers:{sessiontoken:e}});return t.data.eventos}catch(e){console.log(e)}},getFormatedEvents=e=>{let t=[];for(let n of e){let e={id:"1",title:"1",start:new Date,end:new Date,backgroundColor:"000",extendedProps:{}};e.id=n._id,e.title=n.name,e.start=new Date(n.startsAt),e.start.setHours(e.start.getHours()+5),e.end=new Date(n.endsAt),e.end.setHours(e.end.getHours()+5);let r="#cd1919";"Reunion"==n.type&&(r="3F8BD8"),e.backgroundColor=r,e.extendedProps.description=n.description,t.push(e)}return t};return(0,a.useEffect)(()=>{cargaEventos()},[]),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-5xl text-white mb-4",children:"Calendario de eventos"}),r.jsx(o.Z,{plugins:[d.Z,i.Z,l.ZP],initialView:"dayGridMonth",headerToolbar:{start:"today prev,next",center:"title",end:"dayGridMonth,timeGridWeek,timeGridDay"},events:e,eventDidMount:e=>{},height:"90vh"})]})}var c=n(7114);function Calendario(){let[e,t]=(0,a.useState)(!1),n=(0,c.useRouter)(),handlerCrear=e=>{n.push("/eventos/crear"+e)};return(0,a.useEffect)(()=>{let e;let n=localStorage.getItem("userData");null!=n&&(e=JSON.parse(n).role),console.log(e),t("Admin"==e||"Entrenador"==e)},[]),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"container mx-auto mt-8",children:r.jsx("div",{className:"p-4 ",children:r.jsx(CalendarioEventos,{})})}),e&&(0,r.jsxs)("div",{className:"container flex justify-end items-end mt-4 ",children:[r.jsx("button",{type:"button",onClick:()=>handlerCrear("Convocatoria"),className:"bg-[#cd1919] text-white rounded p-2 mx-5",children:"Crear convocatoria"}),r.jsx("button",{onClick:()=>handlerCrear("Torneo"),className:"bg-[#cd1919] text-white rounded p-2",children:"CrearTorneo"})]})]})}}};